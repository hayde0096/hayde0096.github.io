<!DOCTYPE html>
<html>
<head>
  <title>图片画廊</title>
  <style>
    /* 网格布局样式 */
    .grid { /* ... */ }
    .image-item { /* ... */ }
    img { /* ... */ }
  </style>
</head>
<body>
  <h1>我的图片画廊</h1>
  <a href="upload.html" style="float:right;">上传新图片</a>
  <div id="image-grid" class="grid"></div>

  <script>
    // 配置信息（与上传页面相同）
    const REPO_OWNER = 'hayde0096';
    const REPO_NAME = 'Kisegaeningyou';
    const IMAGE_FOLDER = 'images';

    // 加载已有图片
    async function loadImages() {
      try {
        const response = await fetch(
          `https://api.github.com/repos/${REPO_OWNER}/${REPO_NAME}/contents/${IMAGE_FOLDER}`
        );
        const files = await response.json();

        files.forEach(file => {
          if (file.name.match(/\.(jpg|jpeg|png|gif)$/i)) {
            const card = document.createElement('div');
            card.className = 'image-item';
            card.innerHTML = `
              <img src="${file.download_url}">
              <p>${file.name.replace(/^\d+_/, '')}</p>
            `;
            document.getElementById('image-grid').appendChild(card);
          }
        });
      } catch (error) {
        console.error('加载失败:', error);
      }
    }

    // 页面加载时执行
    window.onload = loadImages;
  </script>
</body>
</html>